<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title></title>
  </head>

  <body>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      .parallelogram {
        position: relative;
        width: 160px;
        height: 64px;
      }

      .parallelogram::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        background: #03f463;
        transform: skewX(15deg);
        user-select: none;
        pointer-events: none;
        cursor: pointer;
      }
      .wrapper {
        width: 40%;
        background: #03f463;
        background-clip: padding-box;
        padding: 20px;
        box-sizing: border-box;
      }
      .inner {
        width: 100%;
        background: #39644a;
        /* height: 200px; */
        box-sizing: border-box;
        padding-bottom: 50%;
        /*元素pading margin 的百分比 是基于父元素的宽度的百分比
                css3 translate 是基础本身
              */
      }
      a[target='_blank'] {
        /* 从下到上，从蓝色开始渐变、到高度40%位置是绿色渐变开始、最后以红色结束 */
        /* background-image: linear-gradient(90deg, blue 10%, green 40%, red 50%); */
        background: -webkit-linear-gradient(315deg, #42d392 25%, #647eff);
        background-clip: text;
        -webkit-background-clip: text;
        color: transparent;
        font-weight: bold;
        font-size: 35px;
      }
      .qiu {
        width: 50px;
        height: 50px;
        border: 10px solid red;
        position: absolute;
        /* background-color: red; */
        border-radius: 50%;
        /* transition: all 0.3s; */
        /* transition-timing-function: linear; */
      }
      .container {
        width: 500px;
        height: 350px;
        border: 1px solid;
        margin: 100px auto;
        overflow: hidden;
        position: relative;
      }
      .item {
        width: 500px;
        height: 350px;
      }
      .caul {
        display: flex;
        width: 100%;
        height: 100%;
        transition: all 0.5s;
      }
      .caul img {
        width: 500px;
        height: 330px;
      }
      .dian {
        position: absolute;
        bottom: 10px;
        display: flex;
        gap: 10px;
        left: 50%;
        transform: translateX(-50%);
      }
      .dian span {
        width: 30px;
        height: 30px;
        background-color: red;
        border-radius: 50%;
        cursor: pointer;
      }
      .dian span.active {
        background-color: rgb(13, 38, 13);
      }
    </style>

    <div class="wrapper">
      <div class="inner">
        与就可以 与就可以与就可以与就可以 与就可以 与就可以 与就可以 与就可以 与就可以与就可以 与就可以 与就可以
        与就可以 与就可以 与就可以 与就可以
      </div>
      <p>这是文字</p>
    </div>
    <a target="_blank">渐变文字</a>

    <div class="qiu"></div>

    <div class="container">
      <div class="caul">
        <div class="item item1">
          123
          <img src="" alt="" />
        </div>
        <div class="item item2">
          222
          <img src="" alt="" />
        </div>
        <div class="item item3">
          333
          <img src="" alt="" />
        </div>
        <div class="item item4">
          444
          <img src="" alt="" />
        </div>
        <div class="item item1">
          123
          <img src="" alt="" />
        </div>
      </div>
      <div class="dian">
        <span class="active"></span>
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
    <!-- <table cellspacing="0" bgcolor="green" width="500" height="200" border="0" cellpadding="0">
      <caption>
        <h3>课程表</h3>
      </caption>
      <tr bgcolor="white">
        <th>789</th>
        <th>789</th>
        <th>789</th>
        <th>789</th>
      </tr>
      <tr bgcolor="white">
        <td>123</td>
        <td>123</td>
        <td>123</td>
        <td>123</td>
      </tr>
      <tr bgcolor="white">
        <td>123</td>
        <td>123</td>
        <td>123</td>
        <td>123</td>
      </tr>
      <tr bgcolor="white">
        <td>123</td>
        <td>123</td>
        <td>123</td>
        <td>123</td>
      </tr>
      <tr bgcolor="white">
        <td>123</td>
        <td>123</td>
        <td>123</td>
        <td>123</td>
      </tr>
    </table> -->

    <script>
      const qiuEl = document.querySelector('.qiu');
      let x = 0;
      const run = function () {
        x += 2;
        requestAnimationFrame(() => {
          if (x === 500) x = 0;
          // qiuEl.style.left = x + 'px';
          qiuEl.style.transform = 'translateX(' + x + 'px)';
          run();
        });
      };
      run();

      function moveTo(index) {
        console.log(' index', index);
        document.querySelector('.caul').style.transform = 'translateX(-' + index + '00%)';
        document.querySelector('.dian>span.active').classList.remove('active');
        document.querySelectorAll('.dian>span')[index].classList.add('active');
      }
      document.querySelectorAll('.dian>span').forEach((item, index) => {
        item.onclick = function () {
          moveTo(index);
        };
      });

      function always() {
        let i = 0;
        setInterval(() => {
          if (i >= 4) i = 0;
          moveTo(i);
          i++;
        }, 1000);
      }

      // let o = { age: 20, items: { uid: 999 } };
      // function objFn(obj) {
      //   obj = { value: 777 };
      //   obj.name = 'test';
      //   console.log('obj', obj);
      // }
      // objFn(o);
      // console.log('lo', o);

      function parsePath(path) {
        const segments = path.split('.');
        console.log(segments);
        return function (vm) {
          for (let i = 0; i < segments.length; i++) {
            if (!vm) return;
            console.log(vm);

            vm = vm[segments[i]];
            console.log(vm);
          }
          console.log(vm);
          return vm;
        };
      }
      const ruct = parsePath('a.b.c');

      ruct({
        a: {
          b: {
            c: 789,
          },
        },
      });

      // always();
      // const div = document.getElementById('hd');
      // function handle() {
      //   let i = 0;
      //   (function run() {
      //     console.log(i);
      //     div.innerHTML = i;
      //     div.style.width = i + '%';
      //     if (++i <= 100) setTimeout(run, 10);
      //   })();
      // }
      // handle();

      // async function load() {
      //   for (let i = 0; i <= 100; i++) {
      //     await new Promise((resolve) => {
      //       setTimeout(() => {
      //         resolve();
      //       }, 100);
      //     });
      //     div.innerHTML = i;
      //     div.style.width = i + '%';
      //   }
      // }
      // load();
      // async function sleep() {
      //   return new Promise(resolve => {
      //     setTimeout(resolve, 100)
      //   })
      // }
      // async function load() {
      //   for (let i = 0; i <= 100; i++) {
      //     div.innerHTML = i
      //     div.style.width = i + '%'
      //     await sleep()
      //   }
      // }
      // load()
      // window.onload=function(){
      // 	onResize()
      // }
      // window.onresize=function(){
      //   onResize()
      // }

      // function onResize() {

      // window.onresize=function(){
      // 	const html= document.documentElement
      // 	let oWidth = document.body.clientWidth || document.documentElement.clientWidth;
      // 	let num=20
      // 	console.log(html.style.fontSize=oWidth/num +'px');
      // }

      // let str = 'abcdef'
      // console.log(str.charAt(2));
      // console.log(str[2]);
      // console.log([...str].reverse().join(''));反转字符串

      // let totel = +str
      // console.log(totel);
      // let num =456
      // console.log(num);
      // let res=num+''
      // console.log(res);

      //---------------------------------------

      // //防抖
      // function name(fn, wait = 150) {
      //   let timer = null
      //   if (timer) clearTimeout(timer)
      //   return function (...arg) {
      //     timer = setTimeout(() => {
      //       fn.apply(this, arg)
      //     }, wait)
      //   }
      // }

      // function debounce(fn, delay = 150) {
      //   let timeout = null
      //   return function (...args) {
      //     if (timeout) clearTimeout(timeout)
      //     timeout = setTimeout(() => {
      //       fn.apply(this, arg)
      //     }, delay)
      //   }
      // }

      // //----------------------------------------------

      // //节流1
      // function nn(fn, wait) {
      //   let timer = null
      //   if (!timer) {
      //     return function (...arg) {
      //       timer = setTimeout(() => {
      //         fn.apply(this, arg)
      //         timer = null
      //       }, wait)
      //     }
      //   }
      // }

      // function nnn(fn, wait) {
      //   let flag = true
      //   if (!flag) return
      //   flag = false
      //   return function (...arg) {
      //     setTimeout(() => {
      //       fn.apply(this, arg)
      //       flag = true
      //     }, wait)
      //   }
      // }

      // console.log(String.fromCharCode(97));
      // console.log('ba'.charAt(0));
      // console.log('ba'.substring(0, 1));
      // console.log('ba'.slice(0, 1));
      // console.log('ba'.substr(0, 1));
      // console.log('ba'.charCodeAt(0));

      //----------------------------------------------------------

      //防抖debounce代码：
      // function debounce(fn, delay = 150) {
      //   let timeout = null; // 创建一个标记用来存放定时器的返回值
      //   return function (...args) {
      //     // 每当用户输入的时候把前一个 setTimeout clear 掉
      //     if (timeout) clearTimeout(timeout);
      //     // 然后又创建一个新的 setTimeout, 这样就能保证interval 间隔内如果时间持续触发，就不会执行 fn 函数
      //     timeout = setTimeout(() => {
      //       fn.apply(this, arg);
      //     }, delay);
      //   };
      // }

      //节流方案一
      // function throttle(fn, delay = 150) {
      //   let canRun = true; // 通过闭包保存一个标记
      //   return function (...arg) {
      //     // 在函数开头判断标记是否为true，不为true则return
      //     if (!canRun) return;
      //     // 立即设置为false
      //     canRun = false;
      //     // 将外部传入的函数的执行放在setTimeout中
      //     setTimeout(() => {
      //       // 最后在setTimeout执行完毕后再把标记设置为true(关键)表示可以执行下一次循环了。
      //       // 当定时器没有执行的时候标记永远是false，在开头被return掉
      //       fn.apply(this, arg);
      //       canRun = true;
      //     }, delay);
      //   };
      // }

      // // 定时器节流方案二
      // function throttle(fn, wait = 150) {
      //   let timer = null;
      //   return function (...args) {
      //     //var context = this;
      //     //var args = arguments;
      //     if (!timer) {
      //       timer = setTimeout(function () {
      //         fn.apply(this, args);
      //         timer = null;
      //       }, wait)
      //     }
      //   }
      // }
      // // 深拷贝拷贝对象封装函数 (递归)
      // function deepCopy(newobj, oldobj) {
      //   for (var k in oldobj) {
      //     // 判断我们的属性值属于那种数据类型
      //     // 1. 获取属性值  oldobj[k]
      //     var item = oldobj[k];
      //     // 2. 判断这个值是否是数组
      //     if (item instanceof Array) {
      //       newobj[k] = [];
      //       deepCopy(newobj[k], item)
      //     } else if (item instanceof Object) {
      //       // 3. 判断这个值是否是对象
      //       newobj[k] = {};
      //       deepCopy(newobj[k], item)
      //     } else {
      //       // 4. 属于简单数据类型
      //       newobj[k] = item;
      //     }
      //   }
      // }
      const log = console.log.bind(document);
      // //时间格式化
      function formatDate(date, fmt) {
        if (/(y+)/.test(fmt)) {
          fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));
        }
        let o = {
          'M+': date.getMonth() + 1,
          'd+': date.getDate(),
          'h+': date.getHours(),
          'm+': date.getMinutes(),
          's+': date.getSeconds(),
        };
        for (let k in o) {
          if (new RegExp(`(${k})`).test(fmt)) {
            let str = o[k] + '';
            fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));
          }
        }
        return fmt;
      }
      function padLeftZero(str) {
        return ('00' + str).substr(str.length);
      }

      // let hd = {};
      // //  Object.prototype.show =function () {
      // //    console.log(123);
      // //  }
      // //  hd.show()
      // console.log(Object.prototype.__proto__ === null);

      // const lessons = [
      //   {
      //     title: "媒体查询响应式布局",
      //     category: "css"
      //   },
      //   {
      //     title: "FLEX 弹性盒模型",
      //     category: "css"
      //   },
      //   {
      //     title: "MYSQL多表查询随意操作",
      //     category: "mysql"
      //   }
      // ];
      // let lessonObj = lessons.reduce((obj, cur, index) => {
      //   obj[`${cur["category"]}-${index}`] = cur;
      //   return obj;
      // }, {});
      // console.log(lessonObj); //{css-0: {…}, css-1: {…}, mysql-2: {…}}

      // console.log(lessonObj["css-0"]); //{title: "媒体查询响应式布局", category: "css"}

      // let rr = 'key=vals'.match(/^(.+)=(.+)$/); // [原始值，匹配到的值，index]
      // console.log(rr);
      // //console.log(rr['index']);
      // console.dir(RegExp.$1);
      // console.dir(RegExp.$2);
      // console.dir(RegExp.input);
      // console.dir(RegExp.$_);

      // var name = 1;
      // function test() {
      //   var name = 2;
      //   console.log(this.name);
      //   return function inner() {
      //     console.log(name);
      //   };
      // }
      // test();
      // test()();
      // var b = {
      //   name: 3,
      // };
      // b.test = test;
      // b.test();
      // var c = b.test;
      // c();
      // new test();

      class Stack {
        constructor() {
          this.arr = [];
        }
        in(value) {
          // 你的代码
          this.arr.push(value);
        }
        out() {
          // 你的代码
          return this.arr.pop();
        }
        top() {
          // 你的代码
          return this.arr[this.arr.length - 1];
        }
        size() {
          // 你的代码
          return this.arr.length;
        }
      }

      // 要求当执行下列代码时，能输出预期的结果
      // const stack = new Stack();
      // stack.in('x');
      // stack.in('y');
      // stack.in('z');
      // console.log(stack);
      // console.log(stack.top()); // 输出 'z'
      // console.log(stack.size()); // 输出 3
      // console.log(stack.out()); // 输出 'z'
      // console.log(stack.top()); // 输出 'y'
      // console.log(stack.size()); // 输出 2

      // 输入 array = [1,5,2,3,2,5,4] 输出 [1, 5, 2, 3, 4]
      function unique(array = [1, 5, 2, 3, 2, 5, 4]) {
        // 在这里实现
        return array.filter((item, index) => array.indexOf(item) === index);
      }
      // unique();
      const filterNonUnique = (array) => {
        return array.filter((i) => array.indexOf(i) === array.lastIndexOf(i));
      };
      const uniqueElements = (array) => {
        return [...new Set(array)];
      };

      function fetchData(callback) {
        setTimeout(() => {
          callback('我是返回的数据');
        }, 5000);
      }

      // 实现下面的函数
      function promiseFecth() {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve('我是返回的数据');
          }, 5000);
        });
      }
      // promiseFecth().then((res) => {
      //   console.log(res); // 我是返回的数据
      // });

      const address = [
        {
          id: 1,
          name: '北京市',
          children: [
            {
              id: 11,
              name: '海淀区',
              children: [
                {
                  id: 111,
                  name: '中关村',
                },
              ],
            },
            {
              id: 12,
              name: '朝阳区',
            },
          ],
        },
        {
          id: 2,
          name: '河北省',
        },
      ];
      // 请实现该函数
      // 输入：getNameById(address, 2)，输出："河北省"
      // 输入：getNameById(address, 111)，输出："中关村"
      // 输入：getNameById(address, 32)，输出："" （未查找到，输出空字符串）
      function getNameById(address, id) {
        let res = '';
        for (const item of address) {
          if (item.children?.length) {
            res = getNameById(item.children, id);
          } else {
            if (item.id === id) {
              res = item.name;
              break;
            }
          }
        }
        return res;
      }
      // console.log(getNameById(address, 2));
      // console.log(getNameById(address, 111));
      // console.log(getNameById(address, 32));

      class Pro {
        status = 'pending';
        value = null;
        callbacks = [];
        constructor(executor) {
          try {
            executor(this.resolve.bind(this), this.reject.bind(this));
          } catch (error) {
            this.reject(error);
          }
        }
        resolve(value) {
          if (this.status === 'pending') {
            this.status = 'resolve';
            this.value = value;
            this.callbacks.map((item) => {
              setTimeout(() => {
                item.onResove && item.onResove();
              });
            });
          }
        }
        reject(value) {
          if (this.status === 'pending') {
            this.status = 'reject';
            this.value = value;
            this.callbacks.map((item) => {
              setTimeout(() => {
                item.onReject && item.onReject();
              });
            });
          }
        }
        then(onResove, onReject) {
          const onResoveOrOnReject = (onResoveOrOnReject) => {
            let result = onResoveOrOnReject(this.value);
            if (result === proRes) {
              throw new Error('不能相等');
            }
            try {
              if (result instanceof Pro) {
                result.then(resolve, reject);
              } else {
                resolve(result);
              }
            } catch (error) {
              reject(error);
            }
          };
          const proRes = new Pro((resolve, reject) => {
            if (typeof resolve !== 'function') {
              resolve = (value) => value;
            }
            if (typeof reject !== 'function') {
              resolve = (value) => value;
            }
            if (this.status === 'resolve') {
              setTimeout(() => {
                onResoveOrOnReject(onResove);
              });
            }
            if (this.status === 'reject') {
              setTimeout(() => {
                onResoveOrOnReject(onReject);
              });
            }
            if (this.status === 'pending') {
              this.callbacks.push({
                onResove: () => {
                  onResoveOrOnReject(onResove);
                },
                onReject: () => {
                  onResoveOrOnReject(onReject);
                },
              });
            }
          });
          return proRes;
        }
        catch(onRreject) {
          return this.then(undefined, onRreject);
        }

        static resolve(value) {
          return new Pro((resolve, reject) => {
            try {
              if (value instanceof Pro) {
                value.then(resolve, reject);
              } else {
                resolve(value);
              }
            } catch (error) {
              reject(error);
            }
          });
        }

        static reject(value) {
          return new Pro((resolve, reject) => {
            reject(value);
          });
        }

        static race(value) {
          return new Pro((resolve, reject) => {
            value.forEach((item) => {
              item.then(resolve, reject);
            });
          });
        }

        static all(proArr) {
          let arr = [];
          return new Pro((resolve, reject) => {
            proArr.forEach((item, index) => {
              item.then(
                (v) => {
                  arr[index] = v;
                  if (arr.length === proArr.length) {
                    resolve(arr);
                  }
                },
                (r) => {
                  reject(r);
                }
              );
            });
          });
        }
      }

      // var a = { n: 1 };
      // b = a;
      // a.x = a = { n: 2 };

      // console.log(a.x);
      // console.log(b.x);
      // function name1() {
      //   var a = (b = 10);
      //   console.log(a, b);
      // }
      // name1();
      // console.log('b', typeof b === 'undefined');
      // console.log('a', typeof a === 'undefined');
    </script>
  </body>
</html>
